Mutatex on CABSflex models:
 Only the first three models of CABSflex were used, because the 10 models overloaded the server and with the computational power in our disposal it was not possible to run more, but its advisable to run all of them.
First the models were acessed for their quality, using self-scan. A new directory was created for this purpose. 
1. The mutatex files were uploaded:
cp /home/projects/22117_proteins/lecture5_exercise/mutatex_templates/mutatex/templates/foldxsuite5/mutate_runfile_template.txt .
cp /home/projects/22117_proteins/lecture5_exercise/mutatex_templates/mutatex/templates/foldxsuite5/repair_runfile_template.txt .
cp /home/projects/22117_proteins/lecture5_exercise/mutatex_templates/mutatex/templates/foldxsuite5/interface_runfile_template.txt .
cp /home/projects/22117_proteins/lecture5_exercise/mutatex_templates/mutatex/templates/mutation_list.txt .
2. The models were uploaded
3. The models were merged, using the command:
pdb_merge model_*>merge_models.pdb
4. The followling command was run in the command line, using as input the merged file:
nohup mutatex merge_models.pdb -p 4 -x /home/ctools/foldx5_2024/foldx -m mutation_list.txt
-f suite5 -R repair_runfile_template.txt -M mutate_runfile_template.txt -c -L -l -v -s >&
nohup.out &
tail -f nohup.out to monitor the progress as described in mutatex for local interactions.
After the run was complete, the residues that had ΔΔG > or < than 1 kcal/mol were searched using the following commands respectively:
cat selfmutation_energies.dat | awk '$2 >= 1’
cat selfmutation_energies.dat | awk '$2 <= -1'

Secondly the models were mutated using the same mutation list used for stability on the 5XS2 pdb structure, the position file is named : pos1.txt:
The same process was followed, creating a new directory, uploading all the mutatex files and the merged model file.
This command was performed in the command line:
nohup mutatex merge_models.pdb -p 4 -m mutation_list.txt -x /home/ctools/foldx5_2024/foldx -f suite5 -R repair_runfile_template.txt -M mutate_runfile_template.txt -q pos1.txt -L -l -v -C none &
tail -f nohup.out
Once the mutatex stops running an excel file with free energies and a heatmap were generated by following the commands:
1. For the excel/csv file:
/home/ctools/anaconda3_2021.11/bin/ddg2excel -p mergemodels.pdb -l mutation_list.txt -q pos1.txt -d results/mutation_ddgs/final_averages/ -F csv
2. For the heatmap, modified to have maximum 14 and minimum -5 , for comparison reasons with previous results
/home/ctools/anaconda3_2021.11/bin/ddg2heatmap -p mergemodels.pdb -x 14 -n -5 -l mutation_list.txt -q pos1.txt -d results/mutation_ddgs/final_averages/


Lastly for the local interactions a similar procedure was followed:
First the three models were loaded to Pymol, together with 5XS2_nohet.pdb
The A chain (=CDK8) of 5XS2_nohet.pdb was removed, Actions --> remove object
Three new molecules were created having as chain A model 0,1 or 2 respectively and as chain B the one from 5XS2.
The new molecules were uploaded in a new folder in the server and the merging procedure was followed again:
pdb_merge model_*>merge_models.pdb
The output merged model was used for local interactions :
nohup mutatex merge_models.pdb -p 4 -m mutation_list.txt -x /home/ctools/foldx5_2024/foldx -f suite5 -R repair_runfile_template.txt -M mutate_runfile_template.txt -q posnew.txt -L -l -v -C  none -B  -I interface_runfile_template.txt &
Once the mutatex stops running an excel file with free energies and a heatmap were generated by following the commands:
1.For the excel/csv file:
/home/ctools/anaconda3_2021.11/bin/ddg2excel -p mergemodels.pdb -l mutation_list.txt -q posnew.txt -d results/interface_ddgs/final_averages/A-B/ -F csv
2. For the heatmap, modified to have maximum 14 and minimum -5 , for comparison reasons with previous results
/home/ctools/anaconda3_2021.11/bin/ddg2heatmap -p mergemodels.pdb -x 14 -n -5 -l mutation_list.txt -q posnew.txt -d results/interface_ddgs/final_averages/A-B/ -F csv
You can find the Mutatex files in this path: /home/projects/22117_proteins/projects/group9/EnsembleMutatex/nikolas




